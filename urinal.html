<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Urinal Personality Test (MBTI Fun Quiz)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .urinal {
            transition: all 0.2s ease-in-out;
        }
        .urinal.selectable:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            cursor: pointer;
        }
        .slide-in {
            animation: slide-in 0.5s forwards;
        }
        .slide-out {
            animation: slide-out 0.5s forwards;
        }
        @keyframes slide-in {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slide-out {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-20px); }
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-800 flex items-center justify-center min-h-screen p-4">

    <div id="quiz-container" class="w-full max-w-2xl mx-auto bg-white rounded-xl shadow-lg p-6 md:p-8">
        
        <!-- Start Screen -->
        <div id="start-screen" class="text-center slide-in">
            <h1 class="text-3xl md:text-4xl font-bold text-slate-900 mb-2">The Urinal Personality Test</h1>
            <p class="text-slate-600 mb-6">Discover your "MBTI" type based on your urinal choices. (Just for fun!)</p>
            <div class="flex justify-center mb-6">
                <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-500"><path d="M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z"/><path d="M12 22v-2.5"/></svg>
            </div>
            <p class="mb-8 text-sm text-slate-500 max-w-md mx-auto">You're in a restroom with four urinals. We'll present you with a few scenarios. Choose your urinal wisely... your personality depends on it!</p>
            <button id="start-btn" class="w-full sm:w-auto bg-blue-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-blue-700 transition-all">Start The Quiz</button>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="hidden">
            <div id="question-container" class="text-center">
                <p class="text-sm font-semibold text-blue-600 mb-2" id="progress-text"></p>
                <h2 class="text-2xl font-bold mb-8" id="question-title"></h2>
                <div class="flex justify-around items-end mb-4 space-x-2 md:space-x-4 px-2" id="urinal-grid">
                    <!-- Urinals will be generated here by JS -->
                </div>
                 <div class="flex justify-around items-end mb-8 space-x-2 md:space-x-4 px-2">
                     <div class="text-center w-1/4 font-bold">1</div>
                     <div class="text-center w-1/4 font-bold">2</div>
                     <div class="text-center w-1/4 font-bold">3</div>
                     <div class="text-center w-1/4 font-bold">4 ðŸªŸ</div>
                 </div>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="hidden text-center">
             <h2 class="text-2xl font-bold text-slate-900 mb-2">Your Urinal Personality Type is...</h2>
             <p class="text-5xl font-bold text-blue-600 mb-4" id="result-type"></p>
             <p class="text-xl font-semibold text-slate-700 mb-4" id="result-title"></p>
             <p class="text-slate-600 mb-8" id="result-description"></p>
             <button id="restart-btn" class="w-full sm:w-auto bg-slate-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-slate-700 transition-all">Take Again</button>
        </div>

    </div>

    <script>
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const startBtn = document.getElementById('start-btn');
        const restartBtn = document.getElementById('restart-btn');
        const questionContainer = document.getElementById('question-container');

        const questions = [
            { id: 0, text: "The restroom is completely empty. Which do you choose?", occupied: [] },
            { id: 1, text: "Urinal 1 is occupied.", occupied: [1] },
            { id: 2, text: "Urinal 2 is occupied.", occupied: [2] },
            { id: 3, text: "Urinal 4 (by the window) is occupied.", occupied: [4] },
            { id: 4, text: "Urinals 1 and 4 are occupied.", occupied: [1, 4] },
            { id: 5, text: "Urinals 2 and 4 are occupied.", occupied: [2, 4] },
        ];

        let userAnswers = [];
        const personalityScores = { 'I': 0, 'E': 0, 'S': 0, 'N': 0, 'T': 0, 'F': 0, 'J': 0, 'P': 0 };
        
        const results = {
            "ISTJ": { title: "The Logistician", description: "You value privacy, logic, and order. You chose the most efficient and socially acceptable urinal in every situation. Your approach is methodical, reliable, and you probably hate small talk at the sink." },
            "ISFJ": { title: "The Defender", description: "You are highly considerate of others, always choosing the urinal that maximizes everyone's comfort and personal space. You're a silent guardian of restroom etiquette." },
            "INFJ": { title: "The Advocate", description: "You see the urinal not as a simple utility, but as a statement. You make choices that feel right, even if they aren't the most 'logical'. You probably pondered the deeper meaning of the window." },
            "INTJ": { title: "The Architect", description: "Every urinal choice is a strategic move in a larger game. You analyzed all variablesâ€”distance, potential awkwardness, exit strategyâ€”and made the optimal choice. A true master of your domain." },
            "ISTP": { title: "The Virtuoso", description: "You're a pragmatist. You see the situation, you pick a urinal, and you get the job done with minimal fuss. You might have even picked one next to the window just to see what was out there." },
            "ISFP": { title: "The Adventurer", description: "You are guided by a quiet curiosity. The window urinal calls to you, offering a brief, pleasant distraction. You value your own space but aren't afraid of a little novelty." },
            "INFP": { title: "The Mediator", description: "You feel a deep, internal conflict with every choice, weighing social norms against your own desire for a unique experience. You probably felt bad for the unoccupied urinals." },
            "INTP": { title: "The Logician", description: "You're intrigued by the unconventional choices. 'Why does everyone stand so far apart?' you wonder. Your choices are driven by a desire to understand the system by testing its boundaries." },
            "ESTP": { title: "The Entrepreneur", description: "You're bold and confident. You might choose a urinal closer to someone else just to establish dominance. You live in the moment and aren't bothered by a little social friction." },
            "ESFP": { title: "The Entertainer", description: "The window seat! A chance for a view and a story. You're drawn to excitement and sensory experiences, and a plain wall just won't do. You make life, and restrooms, more interesting." },
            "ENFP": { title: "The Campaigner", description: "You see possibilities everywhere! The window urinal isn't just a urinal, it's a portal to inspiration. You might even strike up a conversation, breaking every rule in the book." },
            "ENTP": { title: "The Debater", description: "You deliberately choose the most socially awkward urinal just to see what happens. You love to challenge norms and provoke a reaction, even in the silent world of the men's room." },
            "ESTJ": { title: "The Executive", description: "You follow the rules because they are the rules. Maximum separation, no eye contact, efficiency is key. You're a pillar of society and a bastion of proper restroom conduct." },
            "ESFJ": { title: "The Consul", description: "You're acutely aware of the other person in the restroom and want to make sure they're comfortable. Your choices are all about maintaining social harmony and avoiding any awkwardness." },
            "ENFJ": { title: "The Protagonist", description: "You have a commanding presence. You'll take the most central, available urinal with confidence, as if leading by example. Your choice inspires others to be less timid in their own selections." },
            "ENTJ": { title: "The Commander", description: "You don't choose a urinal; you claim it. Your decisions are swift, strategic, and assertive. You have places to be, and you expect the restroom to conform to your efficient schedule." }
        };

        let currentQuestionIndex = 0;

        function resetQuiz() {
            for (const key in personalityScores) {
                personalityScores[key] = 0;
            }
            userAnswers = [];
            currentQuestionIndex = 0;
        }

        function showScreen(screen) {
            startScreen.classList.add('hidden');
            quizScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            screen.classList.remove('hidden');
        }

        function renderQuestion(index) {
            // ... (Rendering logic remains the same)
             const question = questions[index];
            const questionTitle = document.getElementById('question-title');
            const urinalGrid = document.getElementById('urinal-grid');
            const progressText = document.getElementById('progress-text');
            
            questionContainer.classList.remove('slide-in');
            questionContainer.classList.add('slide-out');

            setTimeout(() => {
                progressText.textContent = `Scenario ${index + 1} of ${questions.length}`;
                questionTitle.textContent = question.text;
                urinalGrid.innerHTML = '';

                for (let i = 1; i <= 4; i++) {
                    const isOccupied = question.occupied.includes(i);
                    const urinalContainer = document.createElement('div');
                    urinalContainer.className = 'w-1/4 flex flex-col items-center urinal';
                    
                    const svgElement = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                    svgElement.setAttribute('viewBox', '0 0 24 24');
                    svgElement.setAttribute('fill', 'none');
                    svgElement.setAttribute('stroke', 'currentColor');
                    svgElement.setAttribute('stroke-width', '1.5');
                    svgElement.setAttribute('stroke-linecap', 'round');
                    svgElement.setAttribute('stroke-linejoin', 'round');
                    svgElement.classList.add('w-16', 'h-24', 'md:w-20', 'md:h-28');

                    if (isOccupied) {
                        urinalContainer.classList.add('opacity-50');
                        svgElement.classList.add('text-slate-400');
                        svgElement.innerHTML = `<path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5z"/><circle cx="12" cy="12" r="10" stroke-width="2"/>`; // Simple "occupied" representation
                    } else {
                        urinalContainer.classList.add('selectable');
                        svgElement.classList.add('text-slate-700');
                        svgElement.innerHTML = `<path d="M8 4a4 4 0 0 1 8 0v10a4 4 0 1 1-8 0V4Z"/><path d="M12 18v4"/>`;
                        urinalContainer.onclick = () => selectAnswer(question.id, i);
                    }
                    
                    urinalContainer.appendChild(svgElement);
                    urinalGrid.appendChild(urinalContainer);
                }
                
                questionContainer.classList.remove('slide-out');
                questionContainer.classList.add('slide-in');
            }, 500);
        }
        
        function calculateScores(questionId, choice) {
            let choiceType = 'UNDEFINED';
            switch (questionId) {
                case 0: // Empty
                    if (choice === 1) { personalityScores.I+=3; personalityScores.S+=2; personalityScores.J+=2; choiceType = 'SAFE_CORNER'; }
                    if (choice === 2) { personalityScores.N+=3; personalityScores.T+=2; personalityScores.J+=2; personalityScores.I++; choiceType = 'STRATEGIC_PURE'; }
                    if (choice === 3) { personalityScores.N+=2; personalityScores.T++; personalityScores.P++; personalityScores.E++; choiceType = 'STRATEGIC_CURIOUS'; }
                    if (choice === 4) { personalityScores.E+=3; personalityScores.S++; personalityScores.P+=3; choiceType = 'WINDOW_SEEKER'; }
                    break;
                case 1: // 1 occupied
                    if (choice === 2) { personalityScores.E+=3; personalityScores.T+=2; personalityScores.F-=2; choiceType = 'BOLD_ADJACENT'; }
                    if (choice === 3) { personalityScores.N+=2; personalityScores.T+=2; personalityScores.J++; choiceType = 'STRATEGIC_FORCED'; }
                    if (choice === 4) { personalityScores.I+=2; personalityScores.S++; personalityScores.J+=2; choiceType = 'SAFE_MAX_DISTANCE'; }
                    break;
                case 2: // 2 occupied
                    if (choice === 1) { personalityScores.I+=2; personalityScores.J++; choiceType = 'SAFE_CORNER'; }
                    if (choice === 3) { personalityScores.E+=2; personalityScores.T++; personalityScores.F--; choiceType = 'BOLD_ADJACENT'; }
                    if (choice === 4) { personalityScores.I+=2; personalityScores.J+=2; choiceType = 'SAFE_MAX_DISTANCE'; }
                    break;
                case 3: // 4 occupied
                    if (choice === 1) { personalityScores.I+=3; personalityScores.J+=2; choiceType = 'SAFE_MAX_DISTANCE'; }
                    if (choice === 2) { personalityScores.N+=2; personalityScores.T+=2; personalityScores.J++; choiceType = 'STRATEGIC_FORCED'; }
                    if (choice === 3) { personalityScores.E+=3; personalityScores.T+=2; personalityScores.F-=2; choiceType = 'BOLD_ADJACENT'; }
                    break;
                case 4: // 1 & 4 occupied
                    if (choice === 2) { personalityScores.E++; personalityScores.T+=2; personalityScores.P++; personalityScores.F--; choiceType = 'SANDWICH'; }
                    if (choice === 3) { personalityScores.I++; personalityScores.F+=2; personalityScores.J++; choiceType = 'CONSIDERATE_SANDWICH'; }
                    break;
                case 5: // 2 & 4 occupied
                    if (choice === 1) { personalityScores.I+=3; personalityScores.J+=2; choiceType = 'SAFE_CORNER'; }
                    if (choice === 3) { personalityScores.E+=2; personalityScores.N++; personalityScores.P++; choiceType = 'BOLD_ADJACENT'; }
                    break;
            }
            userAnswers.push({ questionId, choice, type: choiceType });
        }

        function applyConsistencyBonus() {
            const types = userAnswers.map(answer => answer.type);
            const uniqueTypes = new Set(types);

            // If a user makes bold, adjacent choices AND safe, max-distance choices, they are highly inconsistent.
            const hasBold = types.includes('BOLD_ADJACENT');
            const hasSafe = types.includes('SAFE_MAX_DISTANCE') || types.includes('SAFE_CORNER');
            const hasStrategic = types.includes('STRATEGIC_PURE') || types.includes('STRATEGIC_FORCED');

            if (hasBold && hasSafe) {
                 personalityScores.P += 5; // Big bonus for high variance
            } else if (uniqueTypes.size >= 4) {
                 personalityScores.P += 3; // Bonus for general variety
            } else if (uniqueTypes.size === 1) {
                 personalityScores.J += 3; // Bonus for extreme consistency
            }
        }

        function selectAnswer(questionId, choice) {
            calculateScores(questionId, choice);
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                renderQuestion(currentQuestionIndex);
            } else {
                showResults();
            }
        }
        
        function showResults() {
            applyConsistencyBonus(); // Apply the new consistency logic!

            let finalType = "";
            finalType += (personalityScores.E > personalityScores.I) ? 'E' : 'I';
            finalType += (personalityScores.N > personalityScores.S) ? 'N' : 'S';
            finalType += (personalityScores.T > personalityScores.F) ? 'T' : 'F';
            finalType += (personalityScores.P > personalityScores.J) ? 'P' : 'J';

            const resultData = results[finalType] || { title: "The Paradox", description: "Your choices are so unique they defy classification. You are an enigma of the restroom, a true wildcard." };

            document.getElementById('result-type').textContent = finalType;
            document.getElementById('result-title').textContent = resultData.title;
            document.getElementById('result-description').textContent = resultData.description;
            
            resultScreen.classList.add('slide-in');
            showScreen(resultScreen);
        }

        startBtn.addEventListener('click', () => {
            resetQuiz();
            showScreen(quizScreen);
            renderQuestion(currentQuestionIndex);
        });

        restartBtn.addEventListener('click', () => {
             resultScreen.classList.remove('slide-in');
             resultScreen.classList.add('slide-out');
             setTimeout(() => {
                startScreen.classList.remove('slide-out');
                startScreen.classList.add('slide-in');
                showScreen(startScreen);
             }, 500);
        });
    </script>
</body>
</html>

